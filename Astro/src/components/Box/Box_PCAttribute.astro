---
import PCAttributeRow from "../Row/Row_PCAttribute.astro";
import PCSkillRow from "../Row/Row_PCSkill.astro";

const {
    id, 
    classes,
    skillPerCategory,
    categoryNameAttr,
    categoryValueAttr,
    categoryTooltipAttr,
    categoryXPCount,
    skillNameAttr,
    skillValueAttr,
    skillTooltipAttr,
    maxSkillCount
} = Astro.props;

function toArray(arg) { return Array.from(Array(arg), (x, i) => i + 1); }
---
<div id={id} class={`marg-bottom pad-bottom ${classes}`}>
    <PCAttributeRow 
        catNum={1}
        categoryNameAttr={`${categoryNameAttr}`}
        categoryValueAttr={`${categoryValueAttr}`}
        categoryTooltipAttr={`${categoryTooltipAttr}`}
        categoryXPCount={categoryXPCount}>
    </PCAttributeRow>
    <input type="hidden" name="attr_setting_actioncount" class="visibility-control" />
    {toArray(skillPerCategory).map((skillNum) => (
        <>
            <PCSkillRow
                skillNameAttr={`${skillNameAttr}${skillNum}`}
                skillValueAttr={`${skillValueAttr}${skillNum}`}
                skillTooltipAttr={`${skillTooltipAttr}${skillNum}`}
                maxSkillCount={maxSkillCount}
                classes={`visibility-gte-${skillNum}`}>
            </PCSkillRow>
        </>
    ))}
</div>
