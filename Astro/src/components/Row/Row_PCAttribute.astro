---
import FieldTooltip from "../Field/Field_ToolTip.astro";
const {
    categoryNameAttr,
    categoryValueAttr,
    categoryXPAttr,
    categoryTooltipAttr,
    categoryXPCount,
} = Astro.props;

function toArray(arg) { return Array.from(Array(arg), (x, i) => i + 1); }
---
<div class="gw-1 flex-spaced skillname tooltip-custom bordered">
    <!--span class="tooltip-custom-text" name={`attr_${categoryTooltipAttr}`}></span-->
    <FieldTooltip attr={categoryTooltipAttr} classes="flex-left" textClasses="pad-left pad-right pad-top">
        <input type="hidden" name={categoryValueAttr} value={0} />
        <input type="hidden" name={`${categoryValueAttr}_formula`} value="" />
        <div class="text-left pad-left align-center ">
            <button type="roll" value={`&{template:cob-action} {{resist=1}} {{name=@{pcname}}} {{stat=@{${categoryNameAttr}}}} @{${categoryValueAttr}_formula}`}
                class="button-attr"><span class="vert-middle text-white" name={`attr_${categoryNameAttr}`} type="text"></span></button>
        </div>
        <div class="gw-8 tracker tracked-red">
            <input type="radio" name={`attr_${categoryXPAttr}`} value="0" class="shape-cross checked-hidden track-zero" checked={true} />
            {toArray(categoryXPCount).map((i) => (
                <>
                    <input type="radio" name={`attr_${categoryXPAttr}`} value={i} class="shape-diamond-med" />
                </>
            ))}
        </div>
    </FieldTooltip>
</div>